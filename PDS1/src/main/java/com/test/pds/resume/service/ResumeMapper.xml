<!DOCTYPE mapper  PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
 
<mapper namespace="com.test.pds.resume.service.ResumeMapper"> 
    
	<insert id="addResume" parameterType="com.test.pds.service.resume.Resume">
		<selectKey resultType="int" keyProperty="resumeId" order="AFTER">
			SELECT LAST_INSERT_ID()
		</selectKey>
	 	INSERT INTO resume
		( resume_title, resume_content)
		VALUES (
		#{resumeTitle}, 
		#{resumeContent}
		) 
	</insert>
	<insert id="addResumeFile" parameterType="com.test.pds.resume.service.ResumeFile">
	 	INSERT INTO resume_file
		(resume_id, resume_file_name, resume_file_type, resume_file_size, resume_file_ext)
		VALUES (
		#{resumeId},
		#{resumeFileName}, 
		#{resumeFileType}, 
		#{resumeFileSize}, 
		#{resumeFileExt}
		)
	</insert>
</mapper>